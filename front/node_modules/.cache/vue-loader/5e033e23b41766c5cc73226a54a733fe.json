{"remainingRequest":"C:\\Users\\Agon\\Desktop\\blog\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Agon\\Desktop\\blog\\front\\src\\views\\Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Agon\\Desktop\\blog\\front\\src\\views\\Profile.vue","mtime":1582231350518},{"path":"C:\\Users\\Agon\\Desktop\\blog\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Agon\\Desktop\\blog\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Agon\\Desktop\\blog\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Agon\\Desktop\\blog\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJQcm9maWxlIiwNCg0KICAgIHByb3BzOlsNCiAgICAgICAgInVzZXIiDQogICAgXSwNCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgICAgIG1zZzonJw0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgICAgc3VibWl0QXhpb3MoKXsNCiAgICAgICAgICAgIGxldCB1c2VyRGV0YWlscz17fTsNCiAgICAgICAgICAgIGxldCBwYXNzZWQgPSB0cnVlOw0KICAgICAgICAgICAgdXNlckRldGFpbHMudXNlcm5hbWUgPSB0aGlzLnVzZXIudXNlcm5hbWU7DQogICAgICAgICAgICB1c2VyRGV0YWlscy5uYW1lID0gdGhpcy51c2VyLm5hbWU7DQogICAgICAgICAgICAvL0NoZWNrIGZvciBwYXNzd29yZA0KICAgICAgICAgICAgaWYodGhpcy5uZXdQYXNzd29yZCE9bnVsbCl7DQogICAgICAgICAgICAgICAgaWYodGhpcy5uZXdQYXNzd29yZC5sZW5ndGg+NyApew0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLm5ld1Bhc3N3b3JkID09IHRoaXMuY29uZmlybVBhc3N3b3JkKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vQWxsIHBhc3NlZA0KICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRldGFpbHMucGFzc3dvcmQgPSB0aGlzLm5ld1Bhc3N3b3JkOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAvL1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubXNnPSJQYXNzd29yZHMgZG8gbm90IG1hdGNoIg0KICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2VkPWZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgICAgIC8vUGFzc3dvcmQgdG9vIHNob3J0DQogICAgICAgICAgICAgICAgICAgIHRoaXMubXNnPSJQYXNzd29yZCB0b28gc2hvcnQiDQogICAgICAgICAgICAgICAgICAgIHBhc3NlZD1mYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBlbHNlew0KICAgICAgICAgICAgLy8gICAgIC8vTm8gcGFzc3dvcmQgdHlwZWQNCiAgICAgICAgICAgIC8vIH0NCiAgICAgICAgICAgIGlmKHBhc3NlZCl7DQogICAgICAgICAgICAgICAgYXhpb3MucHV0KCJodHRwOi8vbG9jYWxob3N0OjUwMDAvdXBkYXRlVXNlciIsdXNlckRldGFpbHMse3dpdGhDcmVkZW50aWFsczp0cnVlfSkNCiAgICAgICAgICAgICAgICAudGhlbigocmVzKT0+ew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm1zZyA9ICJQbGVhc2UgbG9nIG91dCBhbmQgbG9nIGJhY2sgaW4gZm9yIGVmZmVjdHMgdG8gdGFrZSBwbGFjZSINCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaChlcnI9PmNvbnNvbGUubG9nKGVycikpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"background-color:rgba(184, 0, 138,50%); color:white; width: 100%\" >{{msg}}</div>\r\n        <form @submit=\"submitAxios\">\r\n            <div class=\"form-group row\">\r\n                <label class=\"form-control col-2\">Name</label>\r\n                <input type=\"text\" class=\"form-control col-10\" v-model=\"user.name\" required />\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label class=\"form-control col-2\">Username</label>\r\n                <input type=\"text\" class=\"form-control col-10\" v-model=\"user.username\" required />\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label class=\"form-control col-2\">New password</label>\r\n                <input type=\"password\" class=\"form-control col-10\"  v-model=\"newPassword\" placeholder=\"********\"/>\r\n            </div>\r\n            <div class=\"form-group row\">\r\n                <label class=\"form-control col-2\">Confirm password</label>\r\n                <input type=\"password\" class=\"form-control col-10\" v-model=\"confirmPassword\" placeholder=\"********\" />\r\n            </div>\r\n            <button type=\"submit\" class=\"form-control col-2 mr-auto\">Update profile</button>\r\n        </form>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    name: \"Profile\",\r\n\r\n    props:[\r\n        \"user\"\r\n    ],\r\n    data(){\r\n        return{\r\n            msg:''\r\n        }\r\n    },\r\n    methods:{\r\n        submitAxios(){\r\n            let userDetails={};\r\n            let passed = true;\r\n            userDetails.username = this.user.username;\r\n            userDetails.name = this.user.name;\r\n            //Check for password\r\n            if(this.newPassword!=null){\r\n                if(this.newPassword.length>7 ){\r\n                    if(this.newPassword == this.confirmPassword){\r\n                        //All passed\r\n                        userDetails.password = this.newPassword;\r\n                    }\r\n                    else{\r\n                        //Passwords do not match\r\n                        this.msg=\"Passwords do not match\"\r\n                        passed=false;\r\n                    }\r\n                }\r\n                else{\r\n                    //Password too short\r\n                    this.msg=\"Password too short\"\r\n                    passed=false;\r\n                }\r\n            }\r\n            // else{\r\n            //     //No password typed\r\n            // }\r\n            if(passed){\r\n                axios.put(\"http://localhost:5000/updateUser\",userDetails,{withCredentials:true})\r\n                .then((res)=>{\r\n                    this.msg = \"Please log out and log back in for effects to take place\"\r\n                })\r\n                .catch(err=>console.log(err));\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>"]}]}